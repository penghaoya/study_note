# Typescript

## 开发环境

> 在 node 环境中搭建开发环境

### 安装

```bash
npm i -D nodemon ts-node typescript
```

### tsconfig

```json
//tsconfig.json
{
  "compilerOptions": {
    "target": "es6",
    "module": "commonjs",
    "strict": true,
    "esModuleInterop": true,
    "outDir": "dist",
    "rootDir": "src"
  },
  "include": ["src/**/*.ts"],
  "exclude": ["node_modules", "dist"]
}
```

1. **`compilerOptions`**:
   - **`target`**: 设置编译后的 JavaScript 版本，例如 `"es5"`, `"es6"` 或更高。
   - **`module`**: 设置模块系统，通常是 `"commonjs"`（Node.js）或 `"esnext"`（用于较新的 JavaScript 特性）。
   - **`strict`**: 启用所有严格类型检查选项。
   - **`esModuleInterop`**: 启用对 ES6 模块的默认导入行为的兼容性。
   - **`outDir`**: 指定编译后的文件输出目录，例如 `"dist"`。
   - **`rootDir`**: 指定 TypeScript 文件的根目录，通常是 `"src"`。
2. **`include` 和 `exclude`**:
   - **`include`**: 指定编译器应该包括哪些文件，通常设置为 `["src/**/*.ts"]`。
   - **`exclude`**: 指定编译器应该排除哪些文件，例如 `["node_modules", "dist"]`。

### nodemon

```json
{
  "watch": ["src"],
  "ext": "ts",
  "ignore": [""],
  "exec": "ts-node ./src/index.ts"
}
```

### 配置启动脚本

```json
"scripts": {
  "dev": "nodemon"
}
```

### 配置 swc

```json
npm i -D @swc/core @swc/helpers regenerator-runtime

//tsconfig.json
{
  "ts-node": {
    "swc": true
  }
}
```
